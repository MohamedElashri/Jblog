<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> ROOT on Colab | My Blog </title> <meta name="description" content=" How to install and use ROOT on Google Colab "> <meta name="keywords" content="ROOT, Colab, Jupytrer, LHC, CERN, Notebook"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="MohamedElashri"> <meta name="twitter:title" content=" ROOT on Colab | My Blog "> <meta name="twitter:description" content=" How to install and use ROOT on Google Colab "> <meta name="twitter:image:src" content="https://blog.melashri.net"> <!-- Canonical link tag --> <link rel="canonical" href="https://blog.melashri.net/2019/install-ROOT-on-Colab/"> <link rel="alternate" type="application/rss+xml" title="My Blog" href="https://blog.melashri.net/feed.xml"> <!-- rel prev and next --> <link rel="stylesheet" href="https://blog.melashri.net/assets/css/main.css"> <link rel="stylesheet" href="/assets/css/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="https://blog.melashri.net/">My Blog<span></span></a> </h1> <ul class="navbar"> <li><a href="https://blog.melashri.net/about">About</a></li> <li><a href="https://blog.melashri.net/feed.xml" target="_blank">RSS</a></li> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <p class="post-meta"><time datetime="2019-10-08T00:00:00+00:00" itemprop="datePublished">Oct 8, 2019</time></p> <h1 class="post-title" itemprop="name headline">ROOT on Colab</h1> </header> <div class="post-content" itemprop="articleBody"> <hr /> <p>Several months ago, I needed to use ROOT on Google Colab. I found a few suggesetions on the web, but none of them worked for me. So, I decided explore and try to make it work myself tutorial. In this article, I will show you how to install ROOT on Google Colab and how to use it in colab Jupyter notebook session.</p> <p>First I did the build from source part that is completely described in the <a href="https://root.cern/install/build_from_source/">ROOT installation guide</a>. and uploaded the ROOT folder to a github repository. Then I created a new colab notebook and added the following code to the first cell:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">!</span>wget https://github.com/MohamedElashri/HEP-ML/releases/download/ROOT/ROOT.tar.zip
<span class="o">!</span>unzip /content/ROOT.tar.zip
<span class="o">!</span><span class="nb">tar</span> <span class="nt">-xf</span>  ROOT.tar
<span class="o">!</span>apt-get <span class="nb">install </span>git dpkg-dev cmake g++ gcc binutils libx11-dev libxpm-dev libxft-dev libxext-dev <span class="nb">tar </span>gfortran subversion
</code></pre></div></div> <p>The first line of this code download a tar file containting the ROOT folder from my github repository. The second line unzip the tar file. The third line extract the ROOT folder from the tar file. The last line install the required packages to build ROOT.</p> <p>Then I added the following code to the second cell:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"/content/root_build/"</span><span class="p">)</span>
<span class="n">sys</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"/content/root_build/bin/"</span><span class="p">)</span>
<span class="n">sys</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"/content/root_build/include/"</span><span class="p">)</span>
<span class="n">sys</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"/content/root_build/lib/"</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">ctypes</span>
<span class="n">ctypes</span><span class="p">.</span><span class="n">cdll</span><span class="p">.</span><span class="n">LoadLibrary</span><span class="p">(</span><span class="s">'/content/root_build/lib//libCore.so'</span><span class="p">)</span>
<span class="n">ctypes</span><span class="p">.</span><span class="n">cdll</span><span class="p">.</span><span class="n">LoadLibrary</span><span class="p">(</span><span class="s">'/content/root_build/lib//libThread.so'</span><span class="p">)</span>
<span class="n">ctypes</span><span class="p">.</span><span class="n">cdll</span><span class="p">.</span><span class="n">LoadLibrary</span><span class="p">(</span><span class="s">'/content/root_build/lib//libTreePlayer.so'</span><span class="p">)</span>
</code></pre></div></div> <p>The first line of this code add the ROOT folder to the python path. The second line add the bin folder to the python path. The third line add the include folder to the python path. The last line add the lib folder to the python path. Then it load the ROOT libraries.</p> <p>Now we are ready to use ROOT in colab. I added the following code to the third cell:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">ROOT</span>

<span class="n">h</span> <span class="o">=</span> <span class="n">ROOT</span><span class="p">.</span><span class="n">TH1F</span><span class="p">(</span><span class="s">"gauss"</span><span class="p">,</span><span class="s">"Example histogram"</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">h</span><span class="p">.</span><span class="n">FillRandom</span><span class="p">(</span><span class="s">"gaus"</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">ROOT</span><span class="p">.</span><span class="n">TCanvas</span><span class="p">(</span><span class="s">"myCanvasName"</span><span class="p">,</span><span class="s">"The Canvas Title"</span><span class="p">,</span><span class="mi">800</span><span class="p">,</span><span class="mi">600</span><span class="p">)</span>
<span class="n">h</span><span class="p">.</span><span class="n">Draw</span><span class="p">()</span>
<span class="n">c</span><span class="p">.</span><span class="n">Draw</span><span class="p">()</span>
</code></pre></div></div> <p>You can see the output of this code in the following image:</p> <p><img src="/assets/images/posts/root-colab/hist.png" alt="ROOT example output" /></p> <p>Also you can find example notebook on Colab <a href="https://colab.research.google.com/drive/1L7jx5NJS3mPDoX1jw9Fj52_0zb1aLYIK?usp=sharing">here</a> that you can use directly.</p> </div> </article> <aside id="comments" class="isso"> <div class="container"> <h3><i class="icon icon-comments-o"></i> Comments</h3> <div id="isso_thread"></div> <script data-isso="https://comments.melashri.eu.org/" data-isso-avatar="true" data-isso-vote="true" data-isso-vote-levels="-5,5" src="https://comments.melashri.eu.org/js/embed.min.js"></script> <section id="isso-thread"></section> <noscript> Please enable JavaScript to view the <a href="https://blog.melashri.net" rel="nofollow">comments powered by ISSO.</a> </noscript> </div> </aside> <footer class="site-footer"> <div class="container"> <small class="block">&copy; 2023 Mohamed Elashri &middot; &lt;/&gt; Powered by <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://github.com/VerifiedGruber/thinkspace">Thinkspace theme</a></small> </div> </footer> </main> </body> </html>
